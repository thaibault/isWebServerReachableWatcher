## Module reachableWatcher
Watches a list of urls and sends mails to configured email addresses if one
does not fit the expected status code.

You have to install program `msmtp` to get this script working. A proper
user specific "~/.msmtprc" or global "/etc/msmtprc" have to be present on
your distribution. A sample configuration using simple gmail account to
send mails (Replace "ACCOUNT_NAME", "ACCOUNT_E_MAIL_ADDRESS",
"ACCOUNT_PASSWORD"):

```
defaults
auth           on
tls            on
tls_starttls   on
tls_trust_file /etc/ssl/certs/ca-certificates.crt
logfile        /tmp/msmtpLog

account        gmail
host           smtp.gmail.com
port           587
from           ACCOUNT_E_MAIL_ADDRESS
user           ACCOUNT_NAME@gmail.com
password       ACCOUNT_PASSWORD

account        default : gmail
```

Furthermore you should create a file "/etc/reachableWatcher" to overwrite
the following variables. You need to set values for
`reachableWatcher_urls_to_check` and
`reachableWatcher_sender_e_mail_address` at least:

```bash
reachableWatcher_sender_e_mail_address="ACCOUNT_E_MAIL_ADDRESS"
declare -A reachableWatcher_urls_to_check=(
["URL1"]="200 RECIPIENT_E_MAIL_ADDRESS"
["URL2"]="200 RECIPIENT_E_MAIL_ADDRESS ANOTHER_RECIPIENT_E_MAIL_ADDRESS"
...
)
```
### Function reachableWatcher_is_status_valid
Checks if given and expected status codes results in valid state.

```bash
>>> reachableWatcher.is_status_valid 200 200; echo $?
0
```
```bash
>>> reachableWatcher.is_status_valid 200 "000"; echo $?
0
```
```bash
>>> reachableWatcher.is_status_valid 200 0; echo $?
0
```
```bash
>>> reachableWatcher.is_status_valid "000" 200; echo $?
0
```
```bash
>>> reachableWatcher.is_status_valid "000" 206; echo $?
0
```
```bash
>>> reachableWatcher.is_status_valid 206 "000"; echo $?
0
```
```bash
>>> reachableWatcher.is_status_valid 206 200; echo $?
0
```
```bash
>>> reachableWatcher.is_status_valid 200 206; echo $?
0
```
```bash
>>> reachableWatcher.is_status_valid 201 206; echo $?
1
```
```bash
>>> reachableWatcher.is_status_valid 206 201; echo $?
1
```
```bash
>>> reachableWatcher.is_status_valid 201 506; echo $?
1
```
### Function reachableWatcher_main
Main entry point.
